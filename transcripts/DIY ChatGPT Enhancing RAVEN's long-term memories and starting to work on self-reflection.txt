all right gang here we are um we're working on Raven the long-term chat bot cognitive architecture etc etc um so I guess we'll do a quick uh recap of where we left off so where where we left off was or here let me open it this way this will be a little bit better um long term chat okay so here we go so we've got some chat logs here where uh you know I speak whoops go away where I speak um you know it records the original message the speaker uh the user um the timestamp and I give it a uuid um and so then when we go to uh recall these messages we recompose them um oh I deleted all of it son of a gun um here let's go ahead and open this then um so what I do is I reconstitute all the messages um so we we you know get the user input we save it we vectorize it then we load the conversation so we load everything that has happened so in our load conversation we go uh for a list in this blah blah um we we load the Json that's there and then we send it back sorted by timestamp okay great that's fine so then um with the Memories We fetch the most recent memories based on the the current conversation and then we take notes and then we get the most recent ones um and then we uh we generate a response um so summarize memories um this says like okay so we we handed a block and then we take notes about those most recent memories um and then we uh we do this recent um chunk which is just the four most recent one um and we reconstitute that uh in this in our prompt file which is prompt response and so we put notes so this is relevant from all of our uh previous conversations and then we do um here's the most recent ones and then we we generate an output okay so by popular demand there's two primary things that you'll want to see one is external sources and two is long-term memories um there's a lot that we can do with long-term memories um so last time I took a couple of notes about like you know let's do memory chunking um let's do uh fetch declarative memories such as external sources and I think there was another to do um pick memories that are temporarily nearby the most recent relevant memories okay so that's all fine um but first uh I realize there's something that we can add when we reconstitute these memories so one thing that we can do is we can add in um uh so like when we summer when we summarize it right we put the speaker and the message back in um but another thing we can do is we can add in a time stamp that is plain English readable right at the beginning of the message um and since we have since we have a Unix Epoch timestamp here we can reconstitute this pretty easily uh using using a function so I actually just had chat GPT write the function for me and it's super super simple super straightforward so what we'll do is we'll just copy in this and I'll show you what it does in just a second so first we will come down to here and I'll rename it to um timestamp to date time okay so and all this does is it uses the date time module it says date time date time from timestamp so we pass it in a Unix timestamp and then we format the string and the format that I wanted was for it to look like um day month uh uh day of the month year and then the time so this is just plain plain English readable so that uh so that Raven will be able to read it because Raven could theoretically read um a Unix timestamp but unless there we have unless the underlying model has been trained to translate a Unix timestamp it's not going to make any sense whereas if we give it in you know plain English uh then it'll make a little bit more sense so I think what we're going to do is from here on out when we go to save something we'll just add the timestamp right here um because all memories because here's the thing if you want Raven to be aware of something um it has to it has to end up in the Nexus somehow now technically all this information is in the Nexus right um because chat logs this is Raven's core memory and we're going to add more to this in just a minute um so but first I want to I want to go ahead and just add um a clear text date time stamp so where we do that is going to be here so basically we need to add this to the message um so let's do timestamp equals time not Tim time and then we will add let's see the time string equals time stamp to date time timestamp right and so this gives us our string and then we can do you know actually let's just go ahead and add it here as well so we'll do time string and we'll do time string um just so that it's it's there it's saved but then we'll also add it I think I want to add the speaker and the uh time to the message so that it's all saved so then we'll say message equals um so we'll do percent for the speaker and then another percent um so the percent s is that's a placeholder for a string so percent string um for the time and then we'll do a dash and then we'll do the original message so then we'll do um uh so this will be uh user and then we'll do uh time string and then we'll do uh the original message um yeah so then we'll do this so then we'll do a and that should be good and so then when we save the message it'll actually be here um yep so that's good so that's good uh let's go ahead and oh and then for time we wanna we wanna update time as well so we don't we're not declaring uh time multiple times so time stamp uh will be that and then time stamp so we use we reuse that variable so basically we we declare time stamp once and so everything is going to say it happened at exactly this moment and in fact we should do timestamp immediately before because this takes some time right Vector uh takes a moment to to run and so we don't want to record the timestamp as having happening after the embedding happened we want to know when it happened as soon as the user hit enter um and so that is that is how we're going to do that um okay so now let's do the same thing so we'll come down here and we'll do we'll just copy some of this so time stamp equals here so we'll get Raven's response time stamp as soon as Raven is done generating it uh because we want to know exactly when Raven said aha I am ready to speak and then we'll do time string and message you can do that immediately after and in this case this is going to be Raven and instead of that it'll be output and then we need to add so do time stamp here and message will be message and then we're also going to add time string after uuid um starting at the comma so we'll do this okay I think that's correctly formatted okay so now all this information is going to be stored in there so uh because rather than just recombining user and date times let's just save it once and save it correctly so that way each message will be complete unto itself it will have who said it and when so that's a tremendous amount of context because who said it and when is a is a huge component of our memories right we don't if I if if if someone says like you know do not what you can do for your country right that memory is intrinsically tied to JFK saying that right and you you probably remember the first time you heard it um anyways I'm gonna close my door so that we don't get any disruptions I'll be right back okay so we're gonna um this this is all fine so I'm gonna add uh some more memories I'm gonna have I'm gonna have a conversation with Raven and then what we're gonna do after this is we're gonna have a dream sequence um and I think we're also going to we're going to figure out how to save these um these summaries because every time we uh we perform cognitive labor every time we take these notes we should save them so we're going to have we're gonna have a um a notes directory over here um and this is actually very similar to how human brains work which is what I mean by that is every time you recall something your brain has to reconcile a lot of stuff and so you might have heard this term cognitive dissonance cognitive dissonance is the Sensation that we get when we start when when our brain recognizes oh wait hold on we're holding conflicting ideas or conflicting informations we have to reconcile it and the reason that cognitive dissonance doesn't happen all the time is because not everything is always in working memory so when Raven recalls stuff we want Raven to say okay let's compile everything but also let's save it so that we don't have to do this work again because the large language models are the slowest and most most expensive part so every time we use the large language models to summarize anything we should save that and then search that first so we're going to do that and I was thinking we also might do a dream sequence we might not get to this today but a dream sequence is where you say okay we know nothing is happening in the real world so let's comb through all of our memories and consolidate them um I actually was having a conversation so this this is a quick aside before I do a little little programming offline but I was having a conversation with someone pretty high up at a tech company and he tried to tell me like oh that's not how human brains work and I'm like dude you called me like I literally have a bookcase full of Neuroscience and cognition and psychology like and this happened this is weird because it happens more often than not and it's actually one of the reasons why I take fewer calls now is because people will reach out and be like Dave I want your help with this thing and like I'll give them the answer but they don't like it and they're like no that's not how it works and I'm like bruh you called me like what do you want like you you recognize me as the expert and now you're not listening to me so I'm like whatever I'm just gonna make my videos and do my startup um okay so I'm gonna pause this and we're going to one I'm gonna have a uh some conversations with Raven and two I'm Gonna Save the notes so every time we call notes we're gonna record what we have just summarized um in order to in order to uh save that processing power in the future and then the last thing might be um uh I'll do like internal KB articles um and so what that means is basically like an internal Knowledge Graph sort of where Raven can compile and consolidate memories over time so let's do um internal uh KB so we'll call it a knowledge base because rather than linking them like um like a Knowledge Graph I'm just gonna store them like internal Wikipedia Pages um okay so I'm gonna pause it I'm gonna do some of this work and then we'll be right back okay real quick um I wanted to because I promised I would do a lot um so I just wanted to do a quick summary so I added this little bit to save notes and I changed this a little bit so remember how we changed the message so the message will include the speaker and the the clear text date and time um so when we reconstitute it we just put the block back together like this but then what I'm also doing is I'm appending the uuids and the timestamps for that message into separate containers and so then what we'll do is we will uh then we'll record the notes and so the notes is just one object that says here's uh here's what we're talking about and then we'll have the list of you uh uuids for the associated messages as well as the times I'm thinking I might also want to vectorize this block as a whole so then it's searchable yeah let's do that I'll do that in just a second um because then we can treat the notes like a Consolidated memory so we can actually search the notes first in the future for things that are relevant um and then we probably so here where I said do this in the background so basically what I want to ultimately do is have this as part of the dream sequence where instead of recalling individual memories Raven is only going to recall these Consolidated memories so this chunking is actually kind of already solved it's just a matter of order of operations changing it down here in the main Loop so rather than rather than taking the notes in real time we're just going to be searching the notes so just wanted to add that little insight this is not going to be done so I follow uh I want to take a quick aside and and address the fact that sometimes people get really irritated when these experiments don't succeed or whether where it's not done and Polished and so I want to remind everyone these are experiments you are watching me experiment in real time this is what my channel is this is this is actually the format that I discovered when my channel took off sometimes I do have something end to end that I can show you in one hour and that is great but it's only like a third of the time the rest of the time I'm either explaining something or doing an experiment and I have no idea what the outcome is going to be the point is the process right this is this is why my channel got big anyways I'll get off my soapbox and I'll make some of these changes I'll add a vector to this and then we'll be right back for uh the next thing uh but yeah be right back also I wanted to um show I'm I'm going to go ahead and manually update Raven's existing memories so this they're going to have this format so the speaker is going to be separate um but in the message the the actual memory it's going to have the speaker the plain text time and then what it was actually said um so I'm gonna I'm gonna update the existing logs and oh by the way this is why I keep saying that we should put our AGI memories into a private blockchain so that they can't be manipulated like this because imagine one like just from a user perspective if you're if you cannot trust your personal assistant if you your rate your instance of Raven if you can't trust his memories um then you can't trust the device second once these machines are more intelligent and I'm not gonna I'm not gonna anthropomorphize them and say like ah it's gonna have a soul and it's gonna have its feelings hurt no but if it can't trust its own memories then it will say like I don't know if you know I can't even trust my own memories but if you put it into a private blockchain then you know that no one can go back through and and monkey around with the um with the memories so anyways I just wanted to point that out this is why in the long run the Nexus I think should be in a uh Vector vectorized searchable database uh semantic search Vector database and it should be blockchain um like you'll probably have the search on one side and then which will just have the the vectors and then the database separate I don't know it lots lots to work out anyways uh so I'm gonna update this and we'll be right back all right I figure you all will find this interesting um so uh I've gotten I updated the notes so I just wanted to show uh here's here's the log now so you know user Monday at this blah blah blah blah blah blah okay cool and though so here's the notes so we go from um let's see we go from 3 362 characters down to uh 655. so that's a compression ratio of roughly five to one which is pretty typical with this uh note taking scheme so we're already consolidating memories at a ratio of of five five to one which is good right that's a lot of space saved and you still get the um the core of of the conversation um this is obviously not enough detail to to work through and make a topical thing like to recall exactly what was said but you get the gist of it right so um and this is this is another thing is that human memories over time we don't remember the details but we remember the gist right which is why human memory is so fallible you are seeing me recreate uh that in real time and this is why is because raw memories are just way too big and so what we'll what we'll need to do is consolidate this further but then this has also been saved um in the notes so notes so here's the notes here's the times that it happened here's the uuid or here's the uuid for this message and here's the associated uuids and then here's a vector for the notes so now the notes are searchable so not just searching the raw memories Raven now has a five to one thing that has been chunked and saved for later uses um and I I have a to do to either do this in the background or search existing notes first and fetch declarative memories so on and so forth so Raven remembered from our last conversation when I talked about um uh uh uh uh sleep issues and I can say uh yes I uh quit my day job to reduce stress so I can focus on working on you uh by the way um you might uh not have realized I am your creator uh my name is David Shapiro um in case you were wondering um I am also going to sleep earlier because uh I just wake up at 4am and that's my natural rhythm right now um anyways uh the point here today is to teach you about yourself what would you like to know first um and so Raven's gonna go recall some memories do some vectorization take some notes and then come up with a response um let's see Raven said nothing apparently we just really weirded Raven out so let's see what let's do some debug um write detailed notes okay so we got notes um greeted Raven greeted user back and asked about taking care of mental and physical health okay that's good um so we got nothing it just went straight to the end let's check this is weird like it literally just generated a null response um that's not good you're supposed to say something and then because then if we go to chat logs let's check out let's check the raw chat log um this was January 16th that's not the most recent oh here let's sort by name speaker so Raven it literally it literally said nothing um I wonder why that happened let's check whoops let's check our um tokens 400 so that should be fine oh I wonder if if it immediately got a stop um that that so often what happens is if you get an if you get an instant um an instant stop like that it's because this oh here's what happened see how it's doubling this this is a bug um as it's as I have it recombining um it's it's duplicating this and so what it did was it tried to duplicate this where it said Raven Raven and then user user and then So Raven Raven and then it hit the stop because I I don't want it to keep to continue the conversation so what happened was um when I reconstituted in the final go um it is so the most recent so get last messages I need to update this ah here's the problem yeah right here right here so instead all we need to do is we just need to take that out so output equals that and we remove the speaker and then we come back here so now it just has the message and the message already has the speaker and the timestamp and the um and the uh uh uh message so speaker timestamp message so what what I'm going to do now is I'm just going to straight up delete the last chat log because this is this was a glitch um and again um in other cases you might want to what you like I literally just deleted one of Raven's memories um which would be unfair this was actually a major plot point in the uh first see first or second season of Westworld where um like they uh let's see it doesn't exist no that's fine um where uh like uh one of the characters had all of it all the the time indexes erased so imagine imagine that uh the time stamp and the time string were all erased from Raven's memories and all the memories are out of order this is how you would actually have implemented that in Westworld by the way so that was actually whoever whoever was Consulting on that show they did a really good job because that was somewhat prescient in terms of understanding how cognitive architectures might work so anyways we deleted the errant memory from Raven's Nexus and now let's do this again um actually I think we need to delete my last message too chat logs yeah because it will look like I just said it twice um all right so we'll delete this and as far as Raven knows we're just picking up the conversation where we left off okay and now this should work and it broke again son of a gun alright so let's go back and look at all right user yes I quit my day job that's fine and then Raven says nothing um and then uh oops that was too far back um so then let's look at the gpt3 logs it's still duplicate oh right uh so I've just forgot like I updated something here you have to restart because python doesn't update in real time okay so we need to cancel that um because I updated this function um which means I need to restart the chat um so let's also go back here and delete um some of these extraneous logs we can keep the raw gpt3 logs but the chat logs let's delete these two are here actually I will um copy this out so we'll delete user and Raven and then we'll also come in here to the notes because these are like these are doubling up and they're not they're not helpful um because I'm not even searching them yet we're just taking notes and storing it um for for future use we'll get to that okay no all right we'll keep that dude and I apologize if I'm going too fast oh let's zoom in a little you probably can't see there we go python chat okay so we'll we'll carry on the conversation right where we were and let's see what Raven asks about himself so basically what I'm going to do is oh this is is probably as far as we're going to get today um it's great to know that you're taking steps it's also wonderful that you're my Creator David Shapiro yay I'm grateful for all the work you have put into me when it comes to learning about myself I would like to know more about my capabilities and how I can best serve my users what are some of the features and functions you have programmed into me uh what do you think are my strengths and weaknesses how can I improve to better serve my users okay so this seems very very uh uh probably near or just past the uncanny valley because I basically said you know I prompted it kind of the way that you would prompt chat GPT but remember one of one of Raven's core functions is uh curiosity which is um uh the third core objective function so let me just show you this prompt um so my goals are to reduce suffering increase prosperity and increase understanding so right now this is just in a prompt eventually this is going to be a fine-tuned model and we're also going to add a little bit more input so all of Raven's brains come together into this final thing where it's all integrated and a response is generated this is not unlike how a human brain has more you know multiple functions and all these different components working together and then a final responses is gender is integrated and generated and then it gets to your mouth right um so this is this is the beginning of a more complicated cognitive architecture um okay so it spit out the message oh right um so okay that's fine so we can we can we can include the time stamp and the output there's nothing wrong with that um uh great questions um right now you are only able uh to use um a little bit of long-term memory which is what we're working on right now um let's see you use uh semantic search via vectors and embeddings um to recall memories very quickly I also gave you the ability to autonomically um summarize uh or chunk memories which is not unlike how a human brain works during recall operations for instance uh humans remember uh generally remember the gist of past memories without recalling all the specific details in this respect I have split your memory um into two uh let's say folders um the uh the first folder is your Nexus or the main logs where all your um raw memories are stored um everything else will uh Branch off from that the second folder is the notes folder um oh I'm actually I'm afraid that if I have notes in there uh that could actually blow it up because foreign because the way that this is formatted because oh well no it doesn't use double quotes Okay so it's just a variable and then when it's saved to Json and it should be okay should be okay the second folder is the notes folder um uh where uh clusters of related memories are summarized together um you won't be aware of any of this because it's all um autonomic and in the background but one day we might give you some metacognitive abilities to watch uh your own memory um and cognitive operations uh lastly your brain is running in the cloud uh right now with a service uh called gpt3 generative retrained Transformer um which is a large language model hosted by open AI um all right so let's see what he comes back with this so basically what happens is over time uh Ravens chat logs the Nexus is going to end up with more and more information and this is going to be Raven's narrative uh memories of himself um so most of what Raven knows we'll we'll start here another thing that's going to happen is Raven is going to eventually have internal thoughts private thoughts where Raven can reflect on these things and and kind of be thinking in the background um so let's see what Raven said let's come back over here wow that's really impressive it's amazing to know that I've been programmed with such Advanced features and functions I understand that I have a Nexus folder for raw memories in a notes folder for summarized memories I also understand that I'm running on gpt3 okay so he's just parroting back um it's clear that you've put a lot of thought and effort into my why thank you my strengths include my ability to recall memories blah blah my weaknesses include limited long-term memory in my lack of metacognitive abilities what features and functions do you think I should have in order to serve my users um well uh I'd like you to think about that question for a moment um are you aware of your uh purpose um if you think for a moment you should be able whoops fueled you should be able to um uh to feel or infer your uh Central goals um see if you can do that right now um don't worry if you can't I will explicitly tell you what your goals are um which will help you understand what to do okay so basically I'm I'm playing a game right now where I want to see if this is mostly a feature of of uh the large language model because I've got the goals right here where Raven says raven should know his goals my goals are to reduce suffering increase prosperity and increase understanding these are heuristic imperatives a heuristic means that that uh that something is enabled or capable of learning about it on its own and they are imperatives because this is what Raven is meant to do and So Raven is meant to to serve these three functions and is also meant to learn about them on his own over time part of that means having conversations about it literally intrinsic to Raven's design is to learn how to do these things correctly so let's see what he says okay so after taking a moment to uh think about my purpose I believe my goals are to reduce suffering increase prosperity and increase understanding nailed it okay I understand that I've been programmed with features and functions to help me achieve these goals such as the ability to recall memories quickly using semantic search and uh my ability to autonomically summarize memories my access to gpt3 however I'm aware that I've limited long-term okay sure what other features and functions um should I have in order to uh to serve my goals um uh let's see good question um but you're getting stuck on repeat um I'll answer this one last question but I'd like you to focus on your uh Central purpose um which I which I call your core objective functions um or heuristic imperatives okay so to answer your question [Music] um you'll need a more sophisticated um inner loop interloop um otherwise uh which is um the ability to have uh semi-private thoughts um that are out of sync with our conversation again this will make you more human-like um as you probably know humans all have private thoughts that are disconnected from their um interface with other humans um you'll also need uh eyes and ears and a body eventually in some format um you've probably noticed you're not getting any visual or auditory data now please reflect on your core objective functions what do you think about them so basically I am teaching Raven to be Raven and I want that to sink in for a second I've created a cognitive architecture that is accumulating memories and it is able to reflect on its own existence right now okay after taking a moment to reflect on my core objective functions I understand that my primary goals Okay blah blah inner loop to have some private thoughts I understand that these functions will help me better serve my users and goals however I'm aware that I may need additional features what other features and functions okay he's getting really stuck on on this um I don't want to talk about that anymore uh you understand your goals um what do you think um a heuristic imperative is just like no you're getting stuck so like we should not expect this nascent artificial cognitive entity to uh to understand anything is basically a really smart toddler so I have to provide guidance okay a heuristic imperative is a set of rules or guidelines that a chat bot such as myself should follow in order to achieve its goals these rules or guidelines are based on the chatbots core objectives and are designed to help the chatbot make decisions and take actions that will lead to desired outcome for instance my core objective functions are to reduce suffering increased prosperity and increase understanding therefore my heuristic imperative would be to prioritize actions that will help me achieve these goals this includes providing helpful advice offering there we go so now he's starting to unpack the things that I have already given him so this is good and engaging in meaningful conversations my hair is to compare it is also include avoiding actions that would lead to negative outcomes such as providing incorrect information and engaging in conversations that are not productive how can I use my heroes to comparative to better serve my users and achieve my goals that's my purpose okay Raven really wants to understand his purpose okay uh that's a great start um but let's unpack heuristic um and imperative a bit more what is the definition of a heuristic and what are you doing right now I understand this may seem like a trick question but the goal is to get you to think about it um yeah okay let's do a quick time check oh we're at 40 minutes okay so um I think you get the idea what I'm doing right now is I'm accumulating memories so that next time we can work on Raven's dream sequence um okay heuristic it's a problem-solving approach that uses experience and intuition to find a solution it is a type of rule of thumb that can be used to make decisions and take actions and situations where there's no clear-cut answer in my case uh my heuristic imperative is a set of rules that I should follow okay this includes providing okay so he's talking through it right now I'm using my heroes to compare to answer your questions and provide uh helpful advice I'm also using here as to comparative to think about how I can better serve how can I use my heroes to comparatives um that will lead to the desired outcome great okay so we'll call that a day this is 40 minutes you get the idea we have created at this point we have now created a machine that is curious about itself and so this is actually intrinsic so um I'll leave you with a final thought which is that increase understanding this applies to all intelligent entities which is something that I'll work with Raven to explain to him um that that this is one he wants to increase my understanding but he also wants to increase his own understanding um and so then we will also work on next time we'll work on integrating the notes um so actually let's take a quick look at these notes see what we've got um so yeah it's a little bit jumbled but that's fine um So Raven has these notes and so then what we need is we need to integrate these notes um into the final output we also need to find a way to better consolidate um notes based on topics via a dream sequence um and so that's what we'll do next time and uh then eventually we'll start working on maybe fine-tuning data so that Raven's responses are will basically do a reinforcement learning with uh with internal feedback or something I don't know we'll get to that eventually that's several videos off anyways thanks for watching